<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Monart Cards</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link href="index.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Open+Sans:ital,wght@0,300..800;1,300..800&family=Parkinsans:wght@300..800&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container-fluid">
        <div class="row" style="height: 100vh;">
            <div class="col-md-3 col-sm-12 bg-blue">
                <div class="container-fluid">
                    <div class="row my-3">
                        <div class="col-12">
                            <h4 class="text-white weight-700 text-28 font-park">Connect</h4>
                        </div>
                    </div>
                    <div class="row my-2">
                        <div class="col-12">
                            <button id="connectMetamask" class="btn btn-outline-primary bg-light-blue text-black font-park weight-700">
                                Login with Metamask
                            </button>
                        </div>
                    </div>
                        
                    <!--For demonstration-->
                    <div class="row my-2">
                        <div class="col-12">
                            <span class="text-white weight-700 text-20 font-park mt-3">
                                500 card remained out of 500
                            </span>
                        </div>
                    </div>

                    <!--Dynamic remain demonstratation-->
                    <div class="row  my-2">
                        <div class="col-12">
                            <div class="spinner-border spinner-border-sm text-white" id="loadSpinRemined" role="status">
                            </div>
                            <span id="remainText" class="text-white weight-700 text-20 font-park"></span>
                        </div>
                    </div>

                    <div class="row  mt-2">
                        <div class="col-12 ">
                            <hr class="text-white"/>
                        </div>
                    </div>

                    <div class="row my-3">
                        <div class="col-12">
                            <h4 class="text-white weight-700 text-28 font-park">Search</h4>
                        </div>
                    </div>
                    <div class="row my-2">
                        <div class="col-md-8 col-sm-12">
                            <div class="input-group mb-3" >
                                <span class="input-group-text" id="basic-addon1">@</span>
                                <input type="text" class="form-control" placeholder="Username" aria-label="Username" aria-describedby="basic-addon1">
                            </div>
                        </div>
                        <div class="col-md-4 col-sm-12">
                            <button class="btn btn-outline-primary">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">
                                    <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"/>
                                  </svg>
                            </button>
                            <button class="btn btn-outline-danger" onclick="fetchJSONData();">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-x-lg" viewBox="0 0 16 16">
                                    <path d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8z"/>
                                  </svg>
                            </button>
                        </div>    
                    </div>

                    <div class="row  mt-2">
                        <div class="col-12 ">
                            <hr class="text-white"/>
                            <h5 class="text-white weight-700 text-28 font-park mt-3">Contributions</h5>
                        </div>
                    </div>

                    <div class="row my-2">
                        <div class="col-md-2 col-sm-12">
                            <img src="./imgs/profile-photo.png" class="rounded-circle" width="50" height="50">
                        </div>
                        <div class="col-md-10 col-sm-12">
                            <span class="text-white weight-700 text-20 font-park mt-3">Cagin</span> <br>
                            <span class="text-white weight-500 text-12 font-park mt-3">@caginonthesky</span> <br>
                            <span class="text-white weight-500 text-20 font-park mt-3"><span class="badge text-12 text-white text-primary border border-light">
                                full-access
                            </span>
                            <span class="text-white weight-500 text-20 font-park mt-3"><span class="badge text-12 text-white text-primary border border-primary">
                                developer
                            </span>
                            <span class="text-white weight-500 text-20 font-park mt-3"><span class="badge text-12 text-white text-primary border border-danger">
                                jury member
                            </span>
                        </span>
                        </div>
                    </div>
                    <div class="row mt-3">
                        <div class="col-md-2 col-sm-12">
                            <img src="./imgs/gizdusum-profile.jpg" class="rounded-circle" width="50" height="50">
                        </div>
                        <div class="col-md-10 col-sm-12">
                            <span class="text-white weight-700 text-20 font-park mt-3">Gizdusum</span> <br>
                            <span class="text-white weight-500 text-12 font-park mt-3">@gizdusum</span> <br>
                            <span class="text-white weight-500 text-20 font-park mt-3"><span class="badge text-12 text-white text-primary border border-light">
                                full-access
                            </span>
                            <span class="text-white weight-500 text-20 font-park mt-3"><span class="badge text-12 text-white text-primary border border-primary">
                                contributer
                            </span>
                            <span class="text-white weight-500 text-20 font-park mt-3"><span class="badge text-12 text-white text-primary border border-danger">
                                jury member
                            </span>
                        </div>
                    </div>
                    <br>
                        
                        
                </div>
                
            </div>
            <div class="col-md-4 col-sm-12 bg-purple text-center">
                <div class="container-fluid text-start ">
                    

                    <div class="row p-0">
                        <div class="col-12 p-0">
                            <ol class="list-group list-group-numbered p-0 list-group-flush" id="olElement">
                                
                            </ol>
                    </div>
               
                </div>
               

            </div>
            <!--<div class="col-md-5 col-sm-12 ">
                <model-viewer id="reveal" 
                            class="w-100" 
                            loading="eager" 
                            camera-controls 
                            touch-action="pan-y" 
                            auto-rotate 
                            tone-mapping="aces" 
                            src="./models/card.glb" 
                            shadow-intensity="1" 
                            alt="A 3D model of a shishkebab" 
                            style="height: 100vh; max-height: 100vh;">
                </model-viewer>-->

            </div>
        </div>
    </div>
</body>
</html>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
<script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/ethers/5.7.2/ethers.umd.min.js"></script>
<script>


function fetchJSONData() {

    let olElem = document.getElementById("olElement");
    olElem.innerHTML = "";
    fetch("./metadata.json")
        .then((res) => {
            if (!res.ok) {
                throw new Error
                    (`HTTP error! Status: ${res.status}`);
            }
            return res.json();
        })
        .then((data) => {

            for(let i = 0; i < data["cards"].length; i++)
            {
                console.log(i);
                let liElem = document.createElement("li");
                liElem.setAttribute("class", "list-group-item d-flex justify-content-between align-items-start bg-purple");

                let divElem = document.createElement("div");
                divElem.setAttribute("class", "ms-2 me-auto");
                let divSubElem1 = document.createElement("div");
                divSubElem1.setAttribute("class", "fw-bold");
                divSubElem1.innerText = data["cards"][i].name;
                let divSubElem2 = document.createElement("div");
                divSubElem2.innerText = "@" + data["cards"][i].byuser;

                divElem.appendChild(divSubElem1);
                divElem.appendChild(divSubElem2);

                let button = document.createElement("button");
                button.setAttribute("class", "btn btn-success");
                button.innerText = "Mint";

                liElem.appendChild(divElem);
                liElem.appendChild(button);

                olElem.appendChild(liElem);

            }

        })
        
        .catch((error) =>
            console.error("Unable to fetch data:", error));
}
fetchJSONData();
    
</script>